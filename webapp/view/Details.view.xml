<mvc:View controllerName="trackingapp.controller.Details"
	xmlns:c="sap.suite.ui.commons"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:layout="sap.ui.layout"
	xmlns:form="sap.ui.layout.form"
	xmlns:vbm="sap.ui.vbm"
	xmlns:ux="sap.uxap">
	<Page id="details" showHeader="false">
		<content>
			<form:SimpleForm ariaLabelledBy="detailsTitle" backgroundDesign="Transparent" editable="true" id="TrackingForm" layout="ResponsiveGridLayout">
				<form:toolbar>
					<Toolbar design="Transparent" id="toolbar">
						<Button icon="{ui>/sShowListIcon}" id="showList" press=".onShowList" tooltip="{ui>/sShowListTooltip}"/>
						<!-- <Title id="detailsTitle" level="H2" text="Tracking History: HU# {handlingunit}"/> -->
					</Toolbar>
				</form:toolbar>
				<!-- <Label id="carrLabel" labelFor="carrierFld" text="Carrier"/>
				<Input editable="false" id="carrierFld" value="{carrier}"/>
				<Label id="servLabel" labelFor="serviceFld" text="Service"/>
				<Input editable="false" id="serviceFld" value="{service}"/>
				<Label id="trackLabel" labelFor="trackFld" text="Tracking Number"/>
				<Input editable="false" id="trackFld" value="{tracknum}"/>
				<Label id="shpLabel" labelFor="shpFld" text="Ship Date"/>
				<Input editable="false" id="shpFld" value="{shipdate}"/> -->
			</form:SimpleForm>
			<ux:ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false">
				<ux:headerTitle>
					<ux:ObjectPageDynamicHeaderTitle>
						<ux:expandedHeading>
							<Title text="Tracking History" wrapping="true"/>
						</ux:expandedHeading>

						<ux:snappedHeading>
							<FlexBox fitContainer="true" alignItems="Center">
								<!-- <Image src="https://www.fedex.com/content/dam/fedex-com/logos/logo.png" /> -->
								<Title text="Tracking History" wrapping="true" />
							</FlexBox>
						</ux:snappedHeading>

						<ux:expandedContent>
							<Title text="Tracking# {tracknum}"/>
						</ux:expandedContent>
						<ux:snappedContent>
							<Title text="Tracking# {tracknum}"/>
						</ux:snappedContent>
						<ux:snappedTitleOnMobile>
							<Title text="Tracking# {tracknum}"/>
						</ux:snappedTitleOnMobile>

					</ux:ObjectPageDynamicHeaderTitle>
				</ux:headerTitle>

				<ux:headerContent>
					<FlexBox wrap="Wrap">
						<Avatar src="{ path: 'carrier', formatter: '.formatCarrierLogo' }" displayShape="Square" backgroundColor="Random" displaySize="XL" class="sapUiTinyMarginEnd" />

						<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
							<ObjectStatus inverted="false" icon="{ path: 'ui>/latestStatus/statusdesc', formatter: '.formatStatusIcon' }" state="{ path: 'ui>/latestStatus/statusdesc', formatter: '.formatStatusState' }" text="{ui>/latestStatus/statusdesc}" class="sapMObjectStatusLarge"/>
							<ObjectStatus title="" text="{ path: 'ui>/latestStatus/eventdatetime', formatter: '.formatDateTime'}" class="sapUiTinyMarginBottom'[]"/>
						</layout:VerticalLayout>
						<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
							<ObjectStatus title="Carrier" text="{carrier}"/>
							<ObjectStatus title="Service" text="{service}"/>
							<ObjectStatus title="Ship Date" text="{shipdate}"/>
						</layout:VerticalLayout>

					</FlexBox>
				</ux:headerContent>
				<ux:sections>
					<ux:ObjectPageSection titleUppercase="false" title="History" id="ObjectPageSection1">
						<ux:subSections>
							<ux:ObjectPageSubSection titleUppercase="false" id="ObjectPageSubSection1">
								<ux:blocks>
									<c:Timeline enableScroll="false" showHeaderBar="false" id="trackHistory" enableDoubleSided="true" showIcons="false" growingThreshold="6" content="{_details}" noDataText="Loading Data...">
										<c:content>
											<c:TimelineItem id="idTemplateItem">
												<c:embeddedControl>
													<List id="embList">
														<items>
															<CustomListItem id="custEmbList">
																<Title id="embTitle" text="{statusdesc}" titleStyle="H6"/>
																<Text id="additionalText" text="{ path: 'eventdatetime', formatter: '.formatDateTime'}"/>
																<Text id="additionalText2" text="{city}, {region}"/>
															</CustomListItem>
														</items>
													</List>
												</c:embeddedControl>
											</c:TimelineItem>
										</c:content>
									</c:Timeline>
								</ux:blocks>
							</ux:ObjectPageSubSection>
						</ux:subSections>
					</ux:ObjectPageSection>

					<ux:ObjectPageSection titleUppercase="false" title="Route" id="ObjectPageSection2">
						<ux:subSections>
							<ux:ObjectPageSubSection titleUppercase="false" id="ObjectPageSubSection2">
								<vbm:GeoMap id="GeoMap" height="400px" width="100%">
									<vbm:vos>
										<vbm:Routes id="routes1" items="{geo>/Routes}">
											<vbm:Route id="route1" position="{geo>pos}" color="rgb(65, 129, 248)" colorBorder="rgb(255,255,255)" linewidth="2" routetype="Geodesic" lineDash="10;5" directionIndicator="true" end="1"/>
										</vbm:Routes>
										<vbm:Spots id="SAPSpots" items="{geo>/Spots}">
											<vbm:Spot id="SAPSpot" position="{geo>pos}" type="{geo>type}" icon="{geo>icon}" tooltip="{geo>tooltip}"/>
										</vbm:Spots>
									</vbm:vos>
								</vbm:GeoMap>
							</ux:ObjectPageSubSection>
						</ux:subSections>
					</ux:ObjectPageSection>
				</ux:sections>
			</ux:ObjectPageLayout>
		</content>
	</Page>
</mvc:View>